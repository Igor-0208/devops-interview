### Kubernetes K8s
## 1. ÐšÐ°Ðº Ð´ÐµÐ±Ð°Ð¶Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð»Ð¾Ð¼Ð°Ð½Ð½Ñ‹Ðµ Ð¿Ð¾Ð´Ñ‹ Ð² Kubernetes?

- ÐžÑ‚Ð²ÐµÑ‚:  
ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ Ð¿Ð¾Ð´Ð°:  
> kubectl get pods -n <namespace>  

Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ñ‹Ðµ ÑÑ‚Ð°Ñ‚ÑƒÑÑ‹: **CrashLoopBackOff, ImagePullBackOff, Pending, Error, Completed** Ð¸ Ñ‚. Ð´.  
ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½ÑƒÑŽ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð¾ Ð¿Ð¾Ð´Ðµ:  

> kubectl describe pod <pod_name>

## 2. ÐšÐ°Ðº Ñ€Ð°ÑÐºÐ°Ñ‚Ñ‹Ð²Ð°Ñ‚ÑŒ Ð½Ð¾Ð´Ñ‹ Ð² Kubernetes?  
- ÐžÑ‚Ð²ÐµÑ‚:  
Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð½Ð¾Ð´Ñ‹:  

Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸: Docker/Containerd, Kubelet, Kubeadm, Kubectl.  
Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ ÐºÐ»Ð°ÑÑ‚ÐµÑ€Ð° (Ð½Ð° Ð¼Ð°ÑÑ‚ÐµÑ€Ðµ):  

> kubeadm init

ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ñ‚Ð¾ÐºÐµÐ½ Ð´Ð»Ñ Ð¿Ñ€Ð¸ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ:  

> kubeadm token create --print-join-command

ÐŸÑ€Ð¸ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸Ñ‚ÑŒ Ð²Ð¾Ñ€ÐºÐµÑ€-Ð½Ð¾Ð´Ñƒ:  
ÐÐ° Ð½Ð¾Ð²Ð¾Ð¹ Ð½Ð¾Ð´Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð½ÑƒÑŽ Ð½Ð° Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐ¼ ÑˆÐ°Ð³Ðµ:  

> kubeadm join <master-ip>:<port> --token <token> --discovery-token-ca-cert-hash sha256:<hash>

ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ:  
>kubectl get nodes

Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ Ð½Ð¾Ð´Ñ‹:  

>kubectl drain <node-name> --ignore-daemonsets --delete-local-data

>kubectl delete node <node-name>

## âš™ï¸ 3. ÐšÐ°Ðº Ð¾Ð±Ñ€Ð°Ñ‰Ð°Ñ‚ÑŒÑÑ Ñ ÑÐµÑ€Ð²Ð¸ÑÐ°Ð¼Ð¸?  
- ÐžÑ‚Ð²ÐµÑ‚:  
ÐŸÐ¾Ð¸ÑÐº ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð²:  

> kubectl get svc -n <namespace>  

Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÑÐµÑ€Ð²Ð¸ÑÐ°:  

> kubectl expose deployment <deployment-name> --port=80 --target-port=8080 --type=ClusterIP

Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ðº ÑÐµÑ€Ð²Ð¸ÑÑƒ:  

> kubectl port-forward svc/<service-name> 8080:80  

> curl http://localhost:8080  

## ðŸ” 4. ÐšÐ°Ðº Ð¿Ñ€Ð¾Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ Ð´Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÑƒ Ð¿Ð¾ Ð²Ñ‹Ð²Ð¾Ð´Ñƒ Ð¿Ð¾Ð´Ð°?  
ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ Ð¿Ð¾Ð´Ð°:  

> kubectl get pod <pod-name> -n <namespace> -o wide  

ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð´ÐµÑ‚Ð°Ð»Ð¸:  

> kubectl describe pod <pod-name> -n <namespace>

Ð›Ð¾Ð³Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°:  

> kubectl logs <pod-name> -n <namespace> --tail=100

Ð—Ð°Ð¹Ñ‚Ð¸ Ð²Ð½ÑƒÑ‚Ñ€ÑŒ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°:  

> kubectl exec -it <pod-name> -n <namespace> -- /bin/sh

ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ:  

> kubectl get events --sort-by='.lastTimestamp'  

### Docker

## 1. ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Dockerfile

RUN â€” Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð¿Ñ€Ð¸ ÑÐ±Ð¾Ñ€ÐºÐµ.  
CMD â€” ÐºÐ¾Ð¼Ð°Ð½Ð´Ð° Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ð¿Ñ€Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐµ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°.  

## 2. ÐœÑƒÐ»ÑŒÑ‚Ð¸ÑÑ‚ÐµÐ¹Ð´Ð¶ ÑÐ±Ð¾Ñ€ÐºÐ¸  
Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ From Ð´Ð»Ñ ÑƒÐ¼ÐµÐ½ÑŒÑˆÐµÐ½Ð¸Ñ Ñ€Ð°Ð·Ð¼ÐµÑ€Ð° Ð¾Ð±Ñ€Ð°Ð·Ð°  
ÐŸÐ»ÑŽÑÑ‹: Ð¼ÐµÐ½ÑŒÑˆÐµ Ð¸Ñ‚Ð¾Ð³Ð¾Ð²Ñ‹Ð¹ Ð¾Ð±Ñ€Ð°Ð·, Ð½Ðµ Ñ‚Ð°Ñ‰Ð¸Ð¼ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ ÑÐ±Ð¾Ñ€ÐºÐ¸ Ð² Ð¿Ñ€Ð¾Ð´.  

## 3. ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ ÐºÐµÑˆÐ° (Ð´Ð¾ÐºÐ¸Ð´Ñ‹Ð²Ð°Ð½Ð¸Ðµ ÑÐ»Ð¾ÐµÐ²)  
ÐŸÑ€Ð°Ð²Ð¸Ð»Ð¾: Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð·Ð¼ÐµÐ½ÑÐµÐ¼Ñ‹Ðµ ÑÐ»Ð¾Ð¸ ÑÑ‚Ð°Ð²Ð¸Ð¼ Ñ€Ð°Ð½ÑŒÑˆÐµ, Ñ‡Ð°ÑÑ‚Ð¾ â€” Ð¿Ð¾Ð·Ð¶Ðµ.  

Dockerfile  

# Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ (Ñ€ÐµÐ¶Ðµ Ð¼ÐµÐ½ÑÑŽÑ‚ÑÑ)  
> COPY package.json package-lock.json ./  
> RUN npm ci  

# ÐŸÐ¾Ñ‚Ð¾Ð¼ Ð¸ÑÑ…Ð¾Ð´Ð½Ñ‹Ð¹ ÐºÐ¾Ð´ (Ñ‡Ð°Ñ‰Ðµ Ð¼ÐµÐ½ÑÐµÑ‚ÑÑ)  
> COPY . .  

Ð¢Ð°Ðº Ð¿Ñ€Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¸ ÐºÐ¾Ð´Ð° Ð¿ÐµÑ€ÐµÑÐ¾Ð±Ð¸Ñ€Ð°ÐµÑ‚ÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ„Ð¸Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ñ‡Ð°ÑÑ‚ÑŒ, ÐºÐµÑˆ Ð´Ð»Ñ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ÑÑ. ðŸš€

### Docker-compose 

Ð¡Ð±Ð¾Ñ€ÐºÐ°:  

> docker-compose build  

Ð—Ð°Ð¿ÑƒÑÐº:  

> docker-compose up -d  

ÐŸÐµÑ€ÐµÑÐ±Ð¾Ñ€ÐºÐ° Ð±ÐµÐ· ÐºÐµÑˆÐ°:  

> docker-compose build --no-cache  
  
