### Kubernetes K8s
## 1. ÐšÐ°Ðº Ð´ÐµÐ±Ð°Ð¶Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð»Ð¾Ð¼Ð°Ð½Ð½Ñ‹Ðµ Ð¿Ð¾Ð´Ñ‹ Ð² Kubernetes?

- ÐžÑ‚Ð²ÐµÑ‚:  
ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ Ð¿Ð¾Ð´Ð°:  
> kubectl get pods -n <namespace>  

Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ñ‹Ðµ ÑÑ‚Ð°Ñ‚ÑƒÑÑ‹: **CrashLoopBackOff, ImagePullBackOff, Pending, Error, Completed** Ð¸ Ñ‚. Ð´.  
ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½ÑƒÑŽ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð¾ Ð¿Ð¾Ð´Ðµ:  

> kubectl describe pod <pod_name>

## 2. ÐšÐ°Ðº Ñ€Ð°ÑÐºÐ°Ñ‚Ñ‹Ð²Ð°Ñ‚ÑŒ Ð½Ð¾Ð´Ñ‹ Ð² Kubernetes?  
- ÐžÑ‚Ð²ÐµÑ‚:  
Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð½Ð¾Ð´Ñ‹:  

Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸: Docker/Containerd, Kubelet, Kubeadm, Kubectl.  
Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ ÐºÐ»Ð°ÑÑ‚ÐµÑ€Ð° (Ð½Ð° Ð¼Ð°ÑÑ‚ÐµÑ€Ðµ):  

> kubeadm init

ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ñ‚Ð¾ÐºÐµÐ½ Ð´Ð»Ñ Ð¿Ñ€Ð¸ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ:  

> kubeadm token create --print-join-command

ÐŸÑ€Ð¸ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸Ñ‚ÑŒ Ð²Ð¾Ñ€ÐºÐµÑ€-Ð½Ð¾Ð´Ñƒ:  
ÐÐ° Ð½Ð¾Ð²Ð¾Ð¹ Ð½Ð¾Ð´Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð½ÑƒÑŽ Ð½Ð° Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐ¼ ÑˆÐ°Ð³Ðµ:  

> kubeadm join <master-ip>:<port> --token <token> --discovery-token-ca-cert-hash sha256:<hash>

ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ:  
>kubectl get nodes

Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ Ð½Ð¾Ð´Ñ‹:  

> kubectl drain <node-name> --ignore-daemonsets --delete-local-data

> kubectl delete node <node-name>

## âš™ï¸ 3. ÐšÐ°Ðº Ð¾Ð±Ñ€Ð°Ñ‰Ð°Ñ‚ÑŒÑÑ Ñ ÑÐµÑ€Ð²Ð¸ÑÐ°Ð¼Ð¸?  
- ÐžÑ‚Ð²ÐµÑ‚:  
ÐŸÐ¾Ð¸ÑÐº ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð²:  

> kubectl get svc -n <namespace>  

Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÑÐµÑ€Ð²Ð¸ÑÐ°:  

> kubectl expose deployment <deployment-name> --port=80 --target-port=8080 --type=ClusterIP

Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ðº ÑÐµÑ€Ð²Ð¸ÑÑƒ:  

> kubectl port-forward svc/<service-name> 8080:80  

> curl http://localhost:8080  

## ðŸ” 4. ÐšÐ°Ðº Ð¿Ñ€Ð¾Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ Ð´Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÑƒ Ð¿Ð¾ Ð²Ñ‹Ð²Ð¾Ð´Ñƒ Ð¿Ð¾Ð´Ð°?  
ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ Ð¿Ð¾Ð´Ð°:  

> kubectl get pod <pod-name> -n <namespace> -o wide  

ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð´ÐµÑ‚Ð°Ð»Ð¸:  

> kubectl describe pod <pod-name> -n <namespace>

Ð›Ð¾Ð³Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°:  

> kubectl logs <pod-name> -n <namespace> --tail=100

Ð—Ð°Ð¹Ñ‚Ð¸ Ð²Ð½ÑƒÑ‚Ñ€ÑŒ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°:  

> kubectl exec -it <pod-name> -n <namespace> -- /bin/sh

ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ:  

> kubectl get events --sort-by='.lastTimestamp'  

### Docker

## 1. ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Dockerfile

RUN â€” Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð¿Ñ€Ð¸ ÑÐ±Ð¾Ñ€ÐºÐµ.  
CMD â€” ÐºÐ¾Ð¼Ð°Ð½Ð´Ð° Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ð¿Ñ€Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐµ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°.  

## 2. ÐœÑƒÐ»ÑŒÑ‚Ð¸ÑÑ‚ÐµÐ¹Ð´Ð¶ ÑÐ±Ð¾Ñ€ÐºÐ¸  
Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ From Ð´Ð»Ñ ÑƒÐ¼ÐµÐ½ÑŒÑˆÐµÐ½Ð¸Ñ Ñ€Ð°Ð·Ð¼ÐµÑ€Ð° Ð¾Ð±Ñ€Ð°Ð·Ð°  
ÐŸÐ»ÑŽÑÑ‹: Ð¼ÐµÐ½ÑŒÑˆÐµ Ð¸Ñ‚Ð¾Ð³Ð¾Ð²Ñ‹Ð¹ Ð¾Ð±Ñ€Ð°Ð·, Ð½Ðµ Ñ‚Ð°Ñ‰Ð¸Ð¼ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ ÑÐ±Ð¾Ñ€ÐºÐ¸ Ð² Ð¿Ñ€Ð¾Ð´.  

## 3. ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ ÐºÐµÑˆÐ° (Ð´Ð¾ÐºÐ¸Ð´Ñ‹Ð²Ð°Ð½Ð¸Ðµ ÑÐ»Ð¾ÐµÐ²)  
ÐŸÑ€Ð°Ð²Ð¸Ð»Ð¾: Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð·Ð¼ÐµÐ½ÑÐµÐ¼Ñ‹Ðµ ÑÐ»Ð¾Ð¸ ÑÑ‚Ð°Ð²Ð¸Ð¼ Ñ€Ð°Ð½ÑŒÑˆÐµ, Ñ‡Ð°ÑÑ‚Ð¾ â€” Ð¿Ð¾Ð·Ð¶Ðµ.  

Dockerfile  

# Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ (Ñ€ÐµÐ¶Ðµ Ð¼ÐµÐ½ÑÑŽÑ‚ÑÑ)  
> COPY package.json package-lock.json ./  
> RUN npm ci  

# ÐŸÐ¾Ñ‚Ð¾Ð¼ Ð¸ÑÑ…Ð¾Ð´Ð½Ñ‹Ð¹ ÐºÐ¾Ð´ (Ñ‡Ð°Ñ‰Ðµ Ð¼ÐµÐ½ÑÐµÑ‚ÑÑ)  
> COPY . .  

Ð¢Ð°Ðº Ð¿Ñ€Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¸ ÐºÐ¾Ð´Ð° Ð¿ÐµÑ€ÐµÑÐ¾Ð±Ð¸Ñ€Ð°ÐµÑ‚ÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ„Ð¸Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ñ‡Ð°ÑÑ‚ÑŒ, ÐºÐµÑˆ Ð´Ð»Ñ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ÑÑ. ðŸš€

### Docker-compose 

Ð¡Ð±Ð¾Ñ€ÐºÐ°:  

> docker-compose build  

Ð—Ð°Ð¿ÑƒÑÐº:  

> docker-compose up -d  

ÐŸÐµÑ€ÐµÑÐ±Ð¾Ñ€ÐºÐ° Ð±ÐµÐ· ÐºÐµÑˆÐ°:  

> docker-compose build --no-cache  
  
### âš“ Helm Ð´Ð»Ñ DevOps: Ð¾ÑÐ½Ð¾Ð²Ð° Ð¸ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ° ðŸš€  
## ðŸ—ï¸ 1. Ð˜Ð· Ñ‡ÐµÐ³Ð¾ ÑÐ¾ÑÑ‚Ð¾ÑÑ‚ Ñ‡Ð°Ñ€Ñ‚Ñ‹?  
Helm-Ñ‡Ð°Ñ€Ñ‚ â€” ÑÑ‚Ð¾ Ð½Ð°Ð±Ð¾Ñ€ Ð¼Ð°Ð½Ð¸Ñ„ÐµÑÑ‚Ð¾Ð² Kubernetes, ÑˆÐ°Ð±Ð»Ð¾Ð½Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ñ… Ð´Ð»Ñ ÑƒÐ´Ð¾Ð±ÑÑ‚Ð²Ð° Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ. ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ Ñ‡Ð°Ñ€Ñ‚Ð°:  

ðŸ“¦ Chart.yaml â€” Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ñ‡Ð°Ñ€Ñ‚Ð° (Ð¸Ð¼Ñ, Ð²ÐµÑ€ÑÐ¸Ñ, Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ).  
ðŸ“¦ values.yaml â€” Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ð´Ð»Ñ ÑˆÐ°Ð±Ð»Ð¾Ð½Ð¾Ð².  
ðŸ“¦ templates/ â€” ÑÐ°Ð¼Ð¸ Ð¼Ð°Ð½Ð¸Ñ„ÐµÑÑ‚Ñ‹ K8s, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¸Ð· values.  
ðŸ“¦ _helpers.tpl â€” ÑˆÐ°Ð±Ð»Ð¾Ð½Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€ Ð´Ð»Ñ Ð¸Ð¼ÐµÐ½Ð¾Ð²Ð°Ð½Ð¸Ñ Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð².  
ðŸ“¦ README.md â€” Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ñ‡Ð°Ñ€Ñ‚Ð° Ð¸ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ (ÐµÑÐ»Ð¸ Ð¿Ð¾Ð²ÐµÐ·Ñ‘Ñ‚).  
ÐŸÑ€Ð¸Ð¼ÐµÑ€ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹ Ñ‡Ð°Ñ€Ñ‚Ð°:  

> my-chart/  
â”œâ”€â”€ Chart.yaml  
â”œâ”€â”€ values.yaml  
â””â”€â”€ templates/  
    â”œâ”€â”€ deployment.yaml  
    â”œâ”€â”€ service.yaml  
    â””â”€â”€ _helpers.tpl  

## âš™ï¸ 2. Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð² Ð¿Ð¾ Ð¾Ð±Ñ€Ð°Ð·Ñƒ Ð¸ Ð¿Ð¾Ð´Ð¾Ð±Ð¸ÑŽ  

ÐŸÑ€Ð¸Ð¼ÐµÑ€ **service.yaml**:  

> apiVersion: v1  
kind: Service  
metadata:  
  name: {{ include "my-chart.fullname" . }}  
spec:  
  ports:  
    - port: {{ .Values.service.port }}  
      targetPort: {{ .Values.service.targetPort }}  
  selector:  
    app: {{ .Values.appName }}  

Ð’ **values.yaml** Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼:  


> appName: my-app  
service:  
  port: 80  
  targetPort: 8080  
 
ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ñ‡Ð°Ñ€Ñ‚:  

> helm upgrade --install my-app ./my-chart

## ðŸ§  3. ÐšÐ°Ðº ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ values Ð¿Ñ€Ð¾Ñ‰Ðµ Ð¸ Ð¿Ð¾Ð½ÑÑ‚Ð½ÐµÐµ?  
Ð“Ñ€ÑƒÐ¿Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ Ð¿Ð¾ Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¼ Ð±Ð»Ð¾ÐºÐ°Ð¼:  

> replicaCount: 3  
image:  
  repository: nginx  
  tag: latest  
  pullPolicy: IfNotPresent  
service:  
  type: ClusterIP  
  port: 80  

** Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð¸, Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð¸ Ð´ÐµÑ„Ð¾Ð»Ñ‚Ð½Ñ‹Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ.  **
** ÐœÐ¸Ð½Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð²Ð»Ð¾Ð¶ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ.  **
 
## ðŸ” 4. Ð ÐµÐ½Ð´ÐµÑ€Ð¸Ð½Ð³ Ð¼Ð°Ð½Ð¸Ñ„ÐµÑÑ‚Ð¾Ð² (dry-run)  
ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾ Ð¾Ñ‚Ñ€ÐµÐ½Ð´ÐµÑ€Ð¸Ñ‚ÑÑ:  

> helm template my-app ./my-chart --values values.yaml

## ðŸš€ 5. ÐšÐ°Ñ‡Ð°ÐµÐ¼ Ð°Ð¿Ð³Ñ€ÐµÐ¹Ð´Ñ‹ Ð¸Ð· ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸  
Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°/Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ:  

> helm upgrade --install my-app ./my-chart -f values.yaml

ÐžÑ‚ÐºÐ°Ñ‚:  

> helm rollback my-app 1

Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ:  

> helm uninstall my-app  

ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ Ñ€ÐµÐ»Ð¸Ð·Ð°:

> helm list
> helm status my-app

### Terraform

## ðŸ—ï¸ 1. ÐšÐ°Ðº Ð½Ðµ Ð¿Ð¾Ð»Ð¾Ð¼Ð°Ñ‚ÑŒ Ð¸ Ð½Ðµ Ð·Ð°Ð»Ð¾Ñ‡Ð¸Ñ‚ÑŒ ÑÑ‚ÐµÐ¹Ñ‚?  
âŒ ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: ÐµÑÐ»Ð¸ ÐºÑ‚Ð¾-Ñ‚Ð¾ ÑƒÐ¶Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ Ð¸Ð½Ñ„Ñ€Ð°ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð¾Ð¹, Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚ Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÐ¸.  
âœ… Ð ÐµÑˆÐµÐ½Ð¸Ðµ:  
Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ remote backend (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, S3 Ñ DynamoDB Ð´Ð»Ñ Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð¾Ðº):  
ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÑƒ Ð¿ÐµÑ€ÐµÐ´ Ð½Ð°Ñ‡Ð°Ð»Ð¾Ð¼ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹:  

> terraform state list  

Ð•ÑÐ»Ð¸ ÑÑ‚ÐµÐ¹Ñ‚ Ð·Ð°Ð»Ð¾Ñ‡ÐµÐ½ (Ð¸ Ñ‚Ñ‹ ÑƒÐ²ÐµÑ€ÐµÐ½, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ):  

> terraform force-unlock <LOCK_ID>  

## ðŸ”„ 2. ÐšÐ°Ðº Ð¿ÐµÑ€ÐµÐºÐ°Ñ‚Ñ‹Ð²Ð°Ñ‚ÑŒ ÑÑ‚ÐµÐ¹Ñ‚?  
Ð¦ÐµÐ»ÑŒ: Ð¿ÐµÑ€ÐµÐ½ÐµÑÑ‚Ð¸ ÑÑ‚ÐµÐ¹Ñ‚ Ð¸Ð· Ð¾Ð´Ð½Ð¾Ð³Ð¾ backend-Ð° Ð² Ð´Ñ€ÑƒÐ³Ð¾Ð¹.  

Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ð°Ñ€Ñ‹Ð¹ ÑÑ‚ÐµÐ¹Ñ‚:  

> terraform init

Ð¡Ð´ÐµÐ»Ð°Ñ‚ÑŒ Ð±ÑÐºÐ°Ð¿:  

> cp terraform.tfstate terraform.tfstate.backup

Ð˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ backend Ð² ÐºÐ¾Ð½Ñ„Ð¸Ð³Ðµ Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸ÑŽ:  

> terraform init -migrate-state

ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ÑÑ‚ÑŒ:  

> terraform state list


## ðŸ“¥ 3. ÐšÐ°Ðº Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑƒÑ‰Ð½Ð¾ÑÑ‚Ð¸ Ð² ÑÑ‚ÐµÐ¹Ñ‚?

Ð¡Ñ†ÐµÐ½Ð°Ñ€Ð¸Ð¹: Ñ€ÐµÑÑƒÑ€Ñ ÑƒÐ¶Ðµ ÑÐ¾Ð·Ð´Ð°Ð½ Ñ€ÑƒÐºÐ°Ð¼Ð¸, Ð½Ð¾ Terraform Ð¿Ñ€Ð¾ Ð½ÐµÐ³Ð¾ Ð½Ðµ Ð·Ð½Ð°ÐµÑ‚.  

Ð˜Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€ÑƒÐ¹ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰ÑƒÑŽ ÑÑƒÑ‰Ð½Ð¾ÑÑ‚ÑŒ:  

> terraform import aws_instance.my_instance i-1234567890abcdef0

ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ ÑÑ‚ÐµÐ¹Ñ‚:  

> terraform state show aws_instance.my_instance

ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ, Ñ‡Ñ‚Ð¾ Ð¿Ð»Ð°Ð½ Ñ‡Ð¸ÑÑ‚Ñ‹Ð¹:  

> terraform plan

## Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹:
Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ:  

> terraform init

ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿Ð»Ð°Ð½Ð°:  

> terraform plan

ÐŸÑ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹:  

> terraform apply

ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ³Ð¾ ÑÑ‚ÐµÐ¹Ñ‚Ð°:  

> terraform state list

### Ð¡ÐµÑ‚Ð¸

## âš™ï¸ 1. Ð”ÐµÐ±Ð°Ð³ MTU (Maximum Transmission Unit)  
MTU â€” ÑÑ‚Ð¾ Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ€Ð°Ð·Ð¼ÐµÑ€ Ð¿Ð°ÐºÐµÑ‚Ð°, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿ÐµÑ€ÐµÐ´Ð°Ð²Ð°Ñ‚ÑŒÑÑ Ð¿Ð¾ ÑÐµÑ‚Ð¸. Ð•ÑÐ»Ð¸ MTU Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½ Ð½ÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾, Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ñ‹ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ Ñ„Ñ€Ð°Ð³Ð¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸ÐµÐ¹ Ð¿Ð°ÐºÐµÑ‚Ð¾Ð² Ð¸ Ð¿Ð¾Ñ‚ÐµÑ€Ñ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ.  

ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° MTU Ð½Ð° Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐµ:  

> ip link show eth0

Ð—Ð´ÐµÑÑŒ MTU = 1500.  

Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ MTU Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ ping:  

> ping -c 4 -M do -s 1472 <IP-Ð°Ð´Ñ€ÐµÑ>  

-M do â€” Ð·Ð°Ð¿Ñ€ÐµÑ‰Ð°ÐµÑ‚ Ñ„Ñ€Ð°Ð³Ð¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸ÑŽ.  
-s â€” Ð·Ð°Ð´Ð°Ñ‘Ñ‚ Ñ€Ð°Ð·Ð¼ÐµÑ€ Ð¿Ð°ÐºÐµÑ‚Ð° (1472 = 1500 â€“ 20 (IP) â€“ 8 (ICMP)).  
Ð•ÑÐ»Ð¸ MTU Ð·Ð°Ð½Ð¸Ð¶ÐµÐ½, Ð¿Ð°ÐºÐµÑ‚Ñ‹ Ð½Ðµ Ð¿Ñ€Ð¾Ð¹Ð´ÑƒÑ‚.  

Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ MTU:  

> ip link set eth0 mtu 1400

## ðŸ“¶ 2. ÐŸÐ¾Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ Ð¿Ð¸Ð½Ð³Ð¾Ð² Ð¸ Ñ‚Ñ€Ð°ÑÑÐ¸Ñ€Ð¾Ð²ÐºÐ¸
Ping:  

> ping -c 4 google.com

Ð’Ñ‹Ð²Ð¾Ð´ Ð¿Ð¾ÐºÐ°Ð¶ÐµÑ‚ Ð·Ð°Ð´ÐµÑ€Ð¶ÐºÑƒ (time), Ð¿Ð¾Ñ‚ÐµÑ€Ð¸ Ð¿Ð°ÐºÐµÑ‚Ð¾Ð² Ð¸ TTL (Time To Live).  

Traceroute:  
ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð¿ÑƒÑ‚ÑŒ Ð¿Ð°ÐºÐµÑ‚Ð° Ñ‡ÐµÑ€ÐµÐ· ÑƒÐ·Ð»Ñ‹ ÑÐµÑ‚Ð¸:  

> traceroute google.com

Ð•ÑÐ»Ð¸ Ð³Ð´Ðµ-Ñ‚Ð¾ Ð² Ñ†ÐµÐ¿Ð¾Ñ‡ÐºÐµ Ð´Ð¾Ð»Ð³Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð¾Ñ‚ÐºÐ»Ð¸ÐºÐ° Ð¸Ð»Ð¸ * * * â€” ÐµÑÑ‚ÑŒ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ ÑÑ‚Ð¸Ð¼ ÑƒÐ·Ð»Ð¾Ð¼.  

Ð’ Kubernetes:  
ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ÑÑ‚ÑŒ ÑÐµÑ€Ð²Ð¸ÑÐ°:  

> kubectl exec -it <pod> -- ping <service-name>

## ðŸŒ 3. Ð Ð°Ð±Ð¾Ñ‚Ð° Ñ DNS
ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€ÐµÐ·Ð¾Ð»Ð²Ð° DNS:  

> nslookup google.com

>dig google.com

ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° DNS-ÑÐµÑ€Ð²ÐµÑ€Ð° Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ðµ: 

> cat /etc/resolv.conf

ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð²Ñ‹Ð²Ð¾Ð´Ð°:  

>nameserver 8.8.8.8

ÐžÑ‡Ð¸ÑÑ‚ÐºÐ° ÐºÐµÑˆÐ° DNS:

> systemctl restart systemd-resolved

## ðŸ“¦ 4. DNS Ð² Kubernetes  
DNS-ÑÐµÑ€Ð²Ð¸Ñ: kube-dns (Ð¸Ð»Ð¸ CoreDNS).  
Ð˜Ð¼Ñ ÑÐµÑ€Ð²Ð¸ÑÐ°:  

> kubectl get svc kube-dns -n kube-system

ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€ÐµÐ·Ð¾Ð»Ð²Ð° Ð¸Ð· Ð¿Ð¾Ð´Ð°:  

> kubectl exec -it <pod> -- nslookup my-service.default.svc.cluster.local

Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚Ñ‹ DNS-Ð¸Ð¼ÐµÐ½ Ð² ÐšÑƒÐ±ÐµÑ€Ðµ:  

ÐŸÐ¾Ð»Ð½Ð¾Ðµ Ð¸Ð¼Ñ: my-service.default.svc.cluster.local  
ÐšÑ€Ð°Ñ‚ÐºÐ¾Ðµ Ð¸Ð¼Ñ: my-service (ÐµÑÐ»Ð¸ Ð² Ñ‚Ð¾Ð¼ Ð¶Ðµ namespace).  
Ð”Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ°:  

> kubectl logs -n kube-system -l k8s-app=kube-dns

## ðŸš¦ Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹:  
ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ÑÑ‚ÑŒ Ð¿Ð¾Ñ€Ñ‚Ð°:  

> nc -zv <IP> <Ð¿Ð¾Ñ€Ñ‚>
> nmap -Pn <IP> <Ð¿Ð¾Ñ€Ñ‚>

ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚:  

> ip route show

ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ñ‹Ðµ Ð¿Ð¾Ñ€Ñ‚Ñ‹:
> lsof -tulnp

> ss -tuln

### Linux

## ðŸ’¾ 1. Ð§Ð¸ÑÑ‚ÐºÐ° Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¼ÐµÑÑ‚Ð°  
ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð¼ÐµÑÑ‚Ð°:  

> df -h

ÐŸÐ¾Ð¸ÑÐº Ð±Ð¾Ð»ÑŒÑˆÐ¸Ñ… Ñ„Ð°Ð¹Ð»Ð¾Ð² Ð¸ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¹:  

> du -h /var --max-depth=1 | sort -hr | head -n 10

ÐžÑ‡Ð¸ÑÑ‚ÐºÐ° Ð»Ð¾Ð³Ð¾Ð²:  

> sudo journalctl --vacuum-size=100M
> sudo truncate -s 0 /var/log/syslog

ÐžÑ‡Ð¸ÑÑ‚ÐºÐ° Docker:  

> docker system prune -af

Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð´Ð¸ÑÐºÐ°:  

ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ðµ Ð´Ð¸ÑÐºÐ¸:  

> lsblk

Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ„Ð°Ð¹Ð»Ð¾Ð²ÑƒÑŽ ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ:  

> sudo mkfs.ext4 /dev/sdb

ÐŸÑ€Ð¸Ð¼Ð¾Ð½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ:  

> sudo mount /dev/sdb /mnt

Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð² fstab Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ:  

> echo '/dev/sdb /mnt ext4 defaults 0 0' | sudo tee -a /etc/fstab

Sed â€” Ð¿Ð¾Ñ‚Ð¾ÐºÐ¾Ð²Ñ‹Ð¹ Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€ Ñ„Ð°Ð¹Ð»Ð¾Ð², ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÑ‚ÑŒ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸: ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ, Ð·Ð°Ð¼ÐµÐ½Ð°, Ð²ÑÑ‚Ð°Ð²ÐºÐ° Ñ‚ÐµÐºÑÑ‚Ð°.

Awk â€” ÑÐ·Ñ‹Ðº Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð¸Ñ‚ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ ÑÐ¾ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¼Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ð¼Ð¸.  

### Gitlab

## ÐšÐ¾Ð½Ñ„Ð¸Ð³ Ñ€Ð°Ð½Ð½ÐµÑ€Ð°  
.gitlab-ci.yml  

## ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ:

> sudo gitlab-runner status

## ðŸž 4. Ð Ð°ÑÐ¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½Ñ‘Ð½Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹:  
Runner Ð½Ðµ Ð±ÐµÑ€Ñ‘Ñ‚ Ð·Ð°Ð´Ð°Ñ‡Ð¸:  

ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ Ñ‚Ð¾ÐºÐµÐ½ Ð¸ URL Ð² /etc/gitlab-runner/config.toml.  
Ð£Ð±ÐµÐ´Ð¸ÑÑŒ, Ñ‡Ñ‚Ð¾ Ñ€Ð°Ð½Ð½ÐµÑ€ Ñ‚ÐµÐ³Ð¸Ñ€Ð¾Ð²Ð°Ð½ Ñ‚Ð°Ðº Ð¶Ðµ, ÐºÐ°Ðº Ð¸ Ð·Ð°Ð´Ð°Ñ‡Ð¸.  
Pipeline Ð²Ð¸ÑÐ¸Ñ‚ Ð½Ð° "Pending":  

Ð£Ð±ÐµÐ´Ð¸ÑÑŒ, Ñ‡Ñ‚Ð¾ ÐµÑÑ‚ÑŒ ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ñ‹Ðµ Ñ€Ð°Ð½Ð½ÐµÑ€Ñ‹.  
ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ Ð¿Ñ€Ð°Ð²Ð° Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ð´Ð»Ñ Ñ€Ð°Ð½Ð½ÐµÑ€Ð°.  
ÐžÑˆÐ¸Ð±ÐºÐ¸ Ñ Docker:  

ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ, Ñ‡Ñ‚Ð¾ Docker Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚:  

> sudo systemctl status docker

Ð•ÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾, Ð´Ð¾Ð±Ð°Ð²ÑŒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ð² Ð³Ñ€ÑƒÐ¿Ð¿Ñƒ docker:  

> sudo usermod -aG docker $USER

> newgrp docker

### PostgreSQL

## ðŸ”‘ 1. Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ, Ð¿Ð°Ñ€Ð¾Ð»Ñ Ð¸ Ð‘Ð”

Ð—Ð°Ð¿ÑƒÑÐº psql:  

> sudo -u postgres psql

Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ:  

> CREATE USER devops_user WITH PASSWORD 'supersecret';

Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð±Ð°Ð·Ñƒ Ð´Ð°Ð½Ð½Ñ‹Ñ…:  

> CREATE DATABASE devops_db OWNER devops_user;

Ð”Ð°Ñ‚ÑŒ Ð¿Ñ€Ð°Ð²Ð°:  

> GRANT ALL PRIVILEGES ON DATABASE devops_db TO devops_user;  

ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÐ¾Ð·Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹:  

> \du

Ð’Ñ‹Ð¹Ñ‚Ð¸ Ð¸Ð· psql:  

> \q

## ðŸ—‘ï¸ 2. ÐžÑ‡Ð¸ÑÑ‚ÐºÐ° Ð²ÑÐµÑ… Ñ‚Ð°Ð±Ð»Ð¸Ñ† (TRUNCATE)

ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº Ð±Ð°Ð·Ðµ:  

> psql -U devops_user -d devops_db -h localhost

Truncate Ð´Ð»Ñ Ð¾Ð´Ð½Ð¾Ð¹ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹:  

> TRUNCATE TABLE my_table CASCADE;

## ðŸ¢ 3. ÐŸÐ¾Ð¸ÑÐº Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ñ‹Ñ… Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²

Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð»Ð¾Ð³ Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ñ‹Ñ… Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²:  
ÐžÑ‚ÐºÑ€Ð¾Ð¹ postgresql.conf (Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð² /etc/postgresql/.../postgresql.conf) Ð¸ Ð´Ð¾Ð±Ð°Ð²ÑŒ:  

> log_min_duration_statement = 1000  # Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ð´Ð¾Ð»ÑŒÑˆÐµ 1 ÑÐµÐºÑƒÐ½Ð´Ñ‹

> log_statement = 'all'

ÐŸÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ·Ð¸ PostgreSQL:  

> sudo systemctl restart postgresql

ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð»Ð¾Ð³Ð¾Ð²:  

> cat /var/log/postgresql/postgresql-*.log | grep "duration"

Ð§ÐµÑ€ÐµÐ· SQL:  
Ð—Ð°Ð¿Ñ€Ð¾Ñ Ðº ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐµ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² (ÐµÑÐ»Ð¸ Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ðµ pg_stat_statements Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾):  

> SELECT query, calls, total_time, mean_time  
> FROM pg_stat_statements 
> ORDER BY mean_time DESC 
> LIMIT 10;  

ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ñ:  

> CREATE EXTENSION pg_stat_statements;

## ðŸ“‹ 4. Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹:

Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð±Ð°Ð·:  

> \l  

Ð¡Ð¿Ð¸ÑÐ¾Ðº Ñ‚Ð°Ð±Ð»Ð¸Ñ†:  

> \dt

ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹:  

> \d my_table  

Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ SQL-Ñ„Ð°Ð¹Ð»:  

> psql -U devops_user -d devops_db -f script.sql


